### RBAC Kerberos example 
##
## The following is an example inventory file of the configuration required for setting up a kafka cluster with kerberos enabled.  We have removed all comments from
## the standard inventory example to help with understanding the formatting.

all:
  vars:
    ansible_connection: ssh
    ansible_user: ec2-user
    ansible_become: true
    ansible_ssh_private_key_file: /home/ec2-user/guest.pem
    health_checks_enabled: true 
    sasl_protocol: kerberos
    kerberos_kafka_broker_primary: kafka
    kerberos:
       realm: confluent.example.com
       kdc_hostname: ip-10-0-0-10.eu-west-2.compute.internal
       admin_hostname: ip-10-0-0-10.eu-west-2.compute.internal
    rbac_enabled: true
    token_services_public_pem_file: /home/ec2-user/keys/public.pem
    token_services_private_pem_file: /home/ec2-user/keys/tokenKeypair.pem
    mds_super_user: mds
    mds_super_user_password: password
    rbac_ldap_url: ip-10-0-0-43.eu-west-2.compute.internal
    rbac_ldap_port: 636
    rbac_ldap_principal: mds
    rbac_ldap_principal_password: password
    rbac_ldap_user_search_base: OU=rbac,DC=example,DC=com
    rbac_ldap_group_search_base: OU=rbac,DC=example,DC=com
    schema_registry_ldap_user: schema_registry
    schema_registry_ldap_password: password
    kafka_connect_ldap_user: connect_worker
    kafka_connect_ldap_password: password
    ksql_ldap_user: ksql
    ksql_ldap_password: password
    kafka_rest_ldap_user: rest_proxy
    kafka_rest_password: password
    control_center_ldap_user: control_center
    control_center_ldap_password: password
zookeeper:
  hosts:
    ip-10-0-0-250.eu-west-2.compute.internal:
      zookeeper_kerberos_keytab_path: /tmp/keytabs/zookeeper-ip-10-0-0-250.eu-west-2.compute.internal.keytab
      zookeeper_kerberos_principal: /tmp/zookeeper/ip-10-0-0-250.eu-west-2compute.internal@confluent.example.com
    ip-10-0-0-239.eu-west-2.compute.internal:
      zookeeper_kerberos_keytab_path: /tmp/keytabs/zookeeper-ip-10-0-0-239.eu-west-2.compute.internal.keytab
      zookeeper_kerberos_principal: /tmp/zookeeper/ip-10-0-0-239.eu-west-2compute.internal@confluent.example.com
    ip-10-0-0-19.eu-west-2.compute.internal:
      zookeeper_kerberos_keytab_path: /tmp/keytabs/zookeeper-ip-10-0-0-19.eu-west-2.compute.internal.keytab
      zookeeper_kerberos_principal: /tmp/zookeeper/ip-10-0-0-19.eu-west-2compute.internal@confluent.example.com

kafka_broker:
  hosts:
    ip-10-0-0-38.eu-west-2.compute.internal:
      kafka_broker_custom_listeners:
        client_listener:
          name: Token
          port: 9093
          ssl_enabled: true
          ssl_mutual_auth_enabled: true
          sasl_protocol: OAUTH
      kafka_broker_kerberos_keytab_path: /tmp/keytabs/kafka-ip-10-0-0-38.eu-west-2.compute.internal
      kafka_broker_kerberos_principal: kafka/ip-10-0-0-38.eu-west-2.compute.internal@confluent.example.com

    ip-10-0-0-160.eu-west-2.compute.internal:
      kafka_broker_custom_listeners:
        client_listener:
          name: Token
          port: 9093
          ssl_enabled: true
          ssl_mutual_auth_enabled: true
          sasl_protocol: OAUTH
      kafka_broker_kerberos_keytab_path: /tmp/keytabs/kafka-ip-10-0-0-160.eu-west-2.compute.internal
      kafka_broker_kerberos_principal: kafka/ip-10-0-0-160.eu-west-2.compute.internal@confluent.example.com
      
    ip-10-0-0-136.eu-west-2.compute.internal:
      kafka_broker_custom_listeners:
        client_listener:
          name: Token
          port: 9093
          ssl_enabled: true
          ssl_mutual_auth_enabled: true
          sasl_protocol: OAUTH
      kafka_broker_kerberos_keytab_path: /tmp/keytabs/kafka-ip-10-0-0-136.eu-west-2.compute.internal
      kafka_broker_kerberos_principal: kafka/ip-10-0-0-136.eu-west-2.compute.internal@confluent.example.com

schema_registry:
  hosts:
    ip-10-0-0-235.eu-west-2.compute.internal:
      schema_registry_kerberos_keytab_path: /tmp/keytabs/schemaregistry-ip-10-0-0-235.eu-west-2.compute.internal
      schema_registry_kerberos_principal: schemaregistry/ip-10-0-0-235.eu-west-2.compute.internal@confluent.example.com

kafka_connect:
  hosts:
    ip-10-0-0-29.eu-west-2.compute.internal:
      kafka_connect_kerberos_keytab_path: /tmp/keytabs/connect-ip-10-0-0-29.eu-west-2.compute.internal
      kafka_connect_kerberos_principal: connect/ip-10-0-0-29.eu-west-2.compute.internal@confluent.example.com
      
    ip-10-0-0-22.eu-west-2.compute.internal:
      kafka_connect_kerberos_keytab_path: /tmp/keytabs/connect-ip-10-0-0-22.eu-west-2.compute.internal
      kafka_connect_kerberos_principal: connect/ip-10-0-0-22.eu-west-2.compute.internal@confluent.example.com
      
kafka_rest:
  hosts:
    ip-10-0-0-74.eu-west-2.compute.internal:
      kafka_rest_kerberos_keytab_path: /tmp/keytabs/restproxy-ip-10-0-0-74.eu-west-2.compute.internal
      kafka_rest_kerberos_principal: restproxy/ip-10-0-0-74.eu-west-2.compute.internal@confluent.example.com
      
ksql:
  hosts:
    ip-10-0-0-181.eu-west-2.compute.internal:
      ksql_kerberos_keytab_path: /tmp/keytabs/ksql-ip-10-0-0-181.eu-west-2.compute.internal
      ksql_kerberos_principal: ksql/ip-10-0-0-181.eu-west-2.compute.internall@confluent.example.com
      
control_center:
  hosts:
    ip-10-0-0-237.eu-west-2.compute.internal:
      control_center_kerberos_keytab_path: /tmp/keytabs/controlcenter-ip-10-0-0-237.eu-west-2.compute.internal
      control_center_kerberos_principal: controlcenter/ip-10-0-0-237.eu-west-2.compute.internal@confluent.example.com