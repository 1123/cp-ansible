---
- name: Copy CA Cert to Host
  copy:
    src: "generated_ssl_files/{{ssl_self_signed_ca_cert_filename}}"
    dest: "/var/ssl/private/generation/{{ssl_self_signed_ca_cert_filename}}"

- name: Copy CA Key to Host
  copy:
    src: "generated_ssl_files/{{ssl_self_signed_ca_key_filename}}"
    dest: "/var/ssl/private/generation/{{ssl_self_signed_ca_key_filename}}"

- name: Create Keystore and Truststore with Self Signed Certs
  include_tasks: self_signed_certs_regular.yml
  when: not fips_enabled|bool

- name: Create Keystore and Truststore with Self Signed Certs FIPS Enabled
  include_tasks: self_signed_certs_fips.yml
  when: fips_enabled|bool
