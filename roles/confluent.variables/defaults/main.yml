zookeeper:
  properties:
    clientPort: 2181
kafka_port: 9092
kerberos:
  keytab_dir: /etc/security/keytabs
confluent:
  package_version: 5.3.0-1
  repo_version: 5.3
  support:
    customer_id: anonymous
    metrics_enabled: true

jolokia_jar_path: /opt/jolokia/jolokia.jar
zookeeper_jolokia_port: 7770
kafka_broker_jolokia_port: 7771
schema_registry_jolokia_port: 7772
kafka_connect_jolokia_port: 7773
ksql_jolokia_port: 7774
kafka_rest_jolokia_port: 7775

open_file_limit: 500000

host_truststore_storepass: confluent
host_keystore_storepass: confluent
host_cert_password: confluent

jolokia_enabled: true

rbac_enabled: false
confluent_server_enabled: "{{ true if rbac_enabled|bool else false }}"

# TODO remove security_mode in place of these vars and put in plaintext defaults
kafka_broker_ssl_enabled: "{{ true if 'ssl' in security_mode else false }}"
customcerts: "{{ true if security_mode in ['ssl_customcerts', 'kerberos_ssl_customcerts'] else false }}"
sasl_protocol: "{{ 'kerberos' if 'kerberos' in security_mode else 'plain' if security_mode in ['sasl_ssl'] else 'none' }}"

self_signed: "{{ true if security_mode in ['ssl', 'sasl_ssl', 'kerberos_ssl'] else false }}"
regenerate_ca: true


kerberos_configure: true

schema_registry_ssl_enabled: "{{kafka_broker_ssl_enabled}}"
schema_registry_http_protocol: "{{ 'https' if schema_registry_ssl_enabled|bool else 'http' }}"
schema_registry_listener_port: 8081

kafka_rest_ssl_enabled: "{{kafka_broker_ssl_enabled}}"
kafka_rest_http_protocol: "{{ 'https' if kafka_rest_ssl_enabled|bool else 'http' }}"
kafka_rest_port: 8082

kafka_connect_ssl_enabled: "{{kafka_broker_ssl_enabled}}"
kafka_connect_http_protocol: "{{ 'https' if kafka_connect_ssl_enabled|bool else 'http' }}"
kafka_connect_rest_port: 8083

ksql_ssl_enabled: "{{kafka_broker_ssl_enabled}}"
ksql_http_protocol: "{{ 'https' if ksql_ssl_enabled|bool else 'http' }}"
ksql_listener_port: 8088

control_center_ssl_enabled: "{{kafka_broker_ssl_enabled}}"
control_center_http_protocol: "{{ 'https' if control_center_ssl_enabled|bool else 'http' }}"
control_center_port: 9021


CA_key: snakeoil-ca-1.key
CA_cert: snakeoil-ca-1.crt
CA_pass: confluent
truststore_pass: confluent
truststore_path: /var/ssl/private/client.truststore.jks
keystore_path: /var/ssl/private/client.keystore.jks
keystore_pass: confluent
keystore_key_pass: confluent

certs_updated: false
