# Maintained by Ansible
{% for key, value in kafka_broker_final_properties|dictsort%}
{{key}}={{value}}
{% endfor %}




{% if kafka_broker_metrics_reporter_enabled|bool %}
######## Metrics Reporter #########
metric.reporters=io.confluent.metrics.reporter.ConfluentMetricsReporter
confluent.metrics.reporter.bootstrap.servers={% for host in groups['kafka_broker'] %}{% if loop.index > 1%},{% endif %}{{ host }}:{{kafka_broker_listeners[kafka_broker_inter_broker_listener_name]['port']}}{% endfor %}

confluent.metrics.reporter.topic.replicas={{kafka_broker_default_interal_replication_factor}}
{% set config_prefix = 'confluent.metrics.reporter.' %}
{% set listener = kafka_broker_listeners[kafka_broker_inter_broker_listener_name] %}
{% set truststore_path = kafka_broker_truststore_path %}
{% set truststore_storepass = kafka_broker_truststore_storepass %}
{% set keystore_path = kafka_broker_keystore_path %}
{% set keystore_storepass = kafka_broker_keystore_storepass %}
{% set keystore_keypass = kafka_broker_keystore_keypass %}
{% set sasl_plain_username = sasl_plain_users.admin.principal %}
{% set sasl_plain_password = sasl_plain_users.admin.password %}
{% set sasl_scram_username = sasl_scram_users.admin.principal %}
{% set sasl_scram_password = sasl_scram_users.admin.password %}
{% set kerberos_keytab_path = kafka_broker_kerberos_keytab_path %}
{% set kerberos_principal = kafka_broker_kerberos_principal %}
{% include 'kafka_client.j2' %}
{% endif %}
